<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>ホラー脱出2：家の見取り図 3D</title>
<style>
  body{margin:0;background:#000;color:#fff;font-family:sans-serif;overflow:hidden}
  #info{position:absolute;top:10px;left:10px;}
</style>
</head>
<body>
<div id="info">ドラッグで回転</div>
<script src="https://cdn.jsdelivr.net/npm/three@0.155/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.155/examples/js/controls/OrbitControls.js"></script>
<script>
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x000000);

const camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(200, 200, 200);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

const controls = new THREE.OrbitControls(camera, renderer.domElement);
controls.target.set(100, 0, 100);
controls.update();

// 簡単な家の間取り（部屋をワイヤーフレームの箱で表現）
const material = new THREE.MeshBasicMaterial({color:0x00ffff, wireframe:true});
const rooms = [
  // x, z, width, depth
  [0,   0, 200, 200],
  [200, 0, 200, 200],
  [0, 200, 200, 100],
  [200,200, 200, 100]
];
rooms.forEach(r => {
  const geo = new THREE.BoxGeometry(r[2], 50, r[3]);
  const mesh = new THREE.Mesh(geo, material);
  mesh.position.set(r[0] + r[2]/2, 25, r[1] + r[3]/2);
  scene.add(mesh);
});

function animate(){
  requestAnimationFrame(animate);
  renderer.render(scene, camera);
}
animate();

window.addEventListener('resize', () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
