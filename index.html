<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TITAN GAMES - „Ç≤„Éº„É†„Éù„Éº„Çø„É´ÔºàÁµ±ÂêàÁâà„ÉªÁ¥ØË®à„Éó„É¨„Ç§ÂØæÂøúÔºâ</title>
  <style>
    /* ====== style.css Áµ±ÂêàÔºàË¶ÅÁÇπÔºãË™øÊï¥Ôºâ ====== */
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
      background:linear-gradient(135deg,#0a0a0a,#1a1a2e,#16213e);
      color:#fff;min-height:100vh;overflow-x:hidden;
    }
    .header{
      background:rgba(0,0,0,.8);backdrop-filter:blur(10px);
      border-bottom:2px solid #0ff;position:sticky;top:0;z-index:100;
      box-shadow:0 4px 20px rgba(0,255,255,.3);
    }
    .header-content{
      max-width:1200px;margin:0 auto;padding:1rem 2rem;display:flex;
      justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;
    }
    .logo{
      font-size:2rem;font-weight:bold;
      background:linear-gradient(45deg,#0ff,#f0f,#ff0);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
      text-shadow:0 0 20px rgba(0,255,255,.5);animation:glow 2s ease-in-out infinite alternate;
    }
    @keyframes glow{from{filter:drop-shadow(0 0 5px #0ff)}to{filter:drop-shadow(0 0 15px #0ff)}}
    .search-container{display:flex;gap:.5rem;align-items:center}
    .search-input{
      padding:.8rem 1rem;border:2px solid #0ff;border-radius:25px;background:rgba(0,0,0,.7);
      color:#fff;font-size:1rem;min-width:250px;transition:.3s;
    }
    .search-input:focus{outline:none;border-color:#f0f;box-shadow:0 0 15px rgba(255,0,255,.5);transform:scale(1.02)}
    .search-btn{
      padding:.8rem 1rem;background:linear-gradient(45deg,#0ff,#f0f);border:none;border-radius:50%;
      color:#fff;cursor:pointer;transition:.3s;font-size:1rem;
    }
    .search-btn:hover{transform:scale(1.1) rotate(360deg);box-shadow:0 0 20px rgba(0,255,255,.7)}

    .main{max-width:1200px;margin:0 auto;padding:2rem}
    .section-title{
      font-size:2rem;margin-bottom:1.5rem;text-align:center;
      background:linear-gradient(45deg,#0ff,#fff);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
    }

    /* „Éï„Ç£„É´„Çø„ÉºÔºà„Çª„É¨„ÇØ„Éà„Éú„Çø„É≥2ÂàóÔºâ */
    .filter-section{margin-bottom:3rem}
    .filter-buttons{
      display:grid;
      grid-template-columns:repeat(2,minmax(160px,1fr));
      gap:1rem;max-width:560px;margin:0 auto;justify-items:stretch;
    }
    .filter-btn{
      padding:.8rem 1.5rem;background:rgba(0,0,0,.5);border:2px solid #0ff;border-radius:25px;
      color:#fff;cursor:pointer;transition:.3s;font-size:1rem;font-weight:bold;
    }
    .filter-btn:hover,.filter-btn.active{
      background:linear-gradient(45deg,#0ff,#f0f);
      transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,255,255,.4);
    }

    /* Áµ±Ë®à */
    .stats-section{margin-bottom:3rem}
    .stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem}
    .stat-card{
      background:rgba(0,0,0,.6);border:2px solid #0ff;border-radius:15px;padding:2rem;text-align:center;
      transition:.3s;position:relative;overflow:hidden;
    }
    .stat-card::before{
      content:'';position:absolute;inset:-2px;background:linear-gradient(45deg,#0ff,#f0f,#ff0,#0ff);
      border-radius:15px;z-index:-1;animation:borderRotate 3s linear infinite;opacity:0;transition:.3s;
    }
    .stat-card:hover::before{opacity:1}
    @keyframes borderRotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
    .stat-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,255,255,.3)}
    .stat-number{font-size:3rem;font-weight:bold;color:#0ff;margin-bottom:.5rem;animation:countUp 1s ease-out}
    @keyframes countUp{from{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}
    .stat-label{font-size:1.1rem;color:#ccc}

    /* „Ç≤„Éº„É†‰∏ÄË¶ß */
    .games-section{margin-bottom:3rem}
    .games-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:2rem}
    .game-card{
      background:rgba(0,0,0,.7);border:2px solid #333;border-radius:15px;padding:1.5rem;transition:.3s;
      position:relative;overflow:hidden;cursor:pointer;opacity:0;animation:slideInUp .6s ease-out forwards;
    }
    .game-card::before{
      content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
      background:linear-gradient(90deg,transparent,rgba(0,255,255,.2),transparent);transition:left .5s ease;
    }
    .game-card:hover::before{left:100%}
    .game-card:hover{border-color:#0ff;transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,255,255,.2)}
    .game-header{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}
    .game-icon{font-size:2.5rem;animation:bounce 2s ease-in-out infinite}
    @keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}
    .game-title{font-size:1.3rem;font-weight:bold;color:#fff;flex:1}
    .new-badge{background:linear-gradient(45deg,#f06,#f60);color:#fff;padding:.3rem .8rem;border-radius:15px;font-size:.8rem;font-weight:bold;animation:pulse 1.5s ease-in-out infinite}
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
    .game-keywords{background:rgba(0,255,255,.1);color:#0ff;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;margin-bottom:0.6rem;border:1px solid rgba(0,255,255,.3)}

    /* ‚òÖ Á¥ØË®à„Éó„É¨„Ç§Ë°®Á§∫ */
    .play-count{
      margin:0 0 1rem;color:#cccccc;font-size:.95rem
    }
    .play-count .count-pill{
      display:inline-block;border:1px solid rgba(0,255,255,.4);border-radius:12px;padding:.1rem .6rem;margin-left:.35rem;
      background:rgba(0,0,0,.35);color:#0ff;font-weight:bold
    }

    .play-btn{
      width:100%;padding:1rem;background:linear-gradient(45deg,#0ff,#f0f);border:none;border-radius:25px;
      color:#fff;font-size:1.1rem;font-weight:bold;cursor:pointer;transition:.3s;
    }
    .play-btn:hover{transform:scale(1.05);box-shadow:0 5px 15px rgba(0,255,255,.4)}
    @keyframes slideInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}

    /* „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥ */
    .pagination-section{
      display:flex;justify-content:center;align-items:center;gap:1rem;margin:3rem 0;flex-wrap:wrap;
    }
    .page-btn{
      padding:.8rem 1.5rem;background:rgba(0,0,0,.7);border:2px solid #0ff;border-radius:25px;color:#fff;
      cursor:pointer;transition:.3s;font-size:1rem;
    }
    .page-btn:hover:not(:disabled){background:linear-gradient(45deg,#0ff,#f0f);transform:translateY(-2px)}
    .page-btn:disabled{opacity:.5;cursor:not-allowed}
    .page-numbers{display:flex;gap:.5rem;flex-wrap:wrap}
    .page-number{
      width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.7);
      border:2px solid #333;border-radius:50%;color:#fff;cursor:pointer;transition:.3s;
    }
    .page-number:hover,.page-number.active{border-color:#0ff;background:linear-gradient(45deg,#0ff,#f0f);transform:scale(1.1)}

    .footer{background:rgba(0,0,0,.9);text-align:center;padding:2rem;border-top:2px solid #0ff;margin-top:3rem}

    /* „É≠„Éº„Éá„Ç£„É≥„Ç∞ */
    .loading{
      position:fixed;inset:0;background:rgba(0,0,0,.9);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000;transition:opacity .5s ease;
    }
    .loading.hidden{opacity:0;pointer-events:none}
    .loading-spinner{width:60px;height:60px;border:4px solid rgba(0,255,255,.3);border-top:4px solid #0ff;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:1rem}
    @keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}

    /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ */
    @media (max-width:768px){
      .header-content{flex-direction:column;gap:1rem}
      .search-input{min-width:200px}
      .main{padding:1rem}
      .games-grid{grid-template-columns:1fr;gap:1.5rem}
      .stats-grid{grid-template-columns:1fr}
      .logo{font-size:1.5rem}
      .section-title{font-size:1.5rem}
    }
    @media (max-width:480px){
      .game-card{padding:1rem}
      .game-title{font-size:1.1rem}
      .game-icon{font-size:2rem}
      .search-input{min-width:150px;font-size:.9rem}
    }
  </style>
</head>
<body>
  <!-- „Éò„ÉÉ„ÉÄ„Éº -->
  <header class="header">
    <div class="header-content">
      <h1 class="logo">üéÆ TITAN GAMES</h1>
      <div class="search-container">
        <input id="searchInput" type="text" placeholder="„Ç≤„Éº„É†„ÇíÊ§úÁ¥¢..." class="search-input" />
        <button id="searchBtn" class="search-btn">üîç</button>
      </div>
    </div>
  </header>

  <main class="main">
    <!-- „Éï„Ç£„É´„Çø„Éº -->
    <section class="filter-section">
      <h2 class="section-title">„Ç´„ÉÜ„Ç¥„É™„Éº</h2>
      <div class="filter-buttons">
        <button class="filter-btn active" data-category="all">„Åô„Åπ„Å¶</button>
        <button class="filter-btn" data-category="action">„Ç¢„ÇØ„Ç∑„Éß„É≥</button>
        <button class="filter-btn" data-category="adventure">„Ç¢„Éâ„Éô„É≥„ÉÅ„É£„Éº</button>
        <button class="filter-btn" data-category="battle">„Éê„Éà„É´</button>
        <button class="filter-btn" data-category="quiz">„ÇØ„Ç§„Ç∫</button>
        <button class="filter-btn" data-category="learning">Â≠¶Áøí</button>
      </div>
    </section>

    <!-- Áµ±Ë®à -->
    <section class="stats-section">
      <div class="stats-grid">
        <div class="stat-card">
          <div id="totalGames" class="stat-number">0</div>
          <div class="stat-label">Á∑è„Ç≤„Éº„É†Êï∞</div>
        </div>
        <div class="stat-card">
          <div id="newGames" class="stat-number">0</div>
          <div class="stat-label">Êñ∞‰Ωú„Ç≤„Éº„É†</div>
        </div>
        <div class="stat-card">
          <div id="categories" class="stat-number">0</div>
          <div class="stat-label">„Ç´„ÉÜ„Ç¥„É™„Éº</div>
        </div>
        <!-- ‚òÖ ËøΩÂä†ÔºöÁ∑è„Éó„É¨„Ç§ÂõûÊï∞ÔºàÁ¥ØË®à„Éª‰øùÂ≠òÔºâ -->
        <div class="stat-card">
          <div id="totalPlays" class="stat-number">0</div>
          <div class="stat-label">Á∑è„Éó„É¨„Ç§ÂõûÊï∞ÔºàÁ¥ØË®àÔºâ</div>
        </div>
      </div>
    </section>

    <!-- ‰∏ÄË¶ß -->
    <section class="games-section">
      <h2 class="section-title">„Ç≤„Éº„É†‰∏ÄË¶ß <span id="gameCount">(0)</span></h2>
      <div id="gamesList" class="games-grid"></div>
    </section>

    <!-- „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥ -->
    <section class="pagination-section">
      <button id="prevBtn" class="page-btn">‚Üê Ââç„Å∏</button>
      <div id="pageNumbers" class="page-numbers"></div>
      <button id="nextBtn" class="page-btn">Ê¨°„Å∏ ‚Üí</button>
    </section>
  </main>

  <footer class="footer">
    <p>&copy; 2025 TITAN GAMES. „Åô„Åπ„Å¶„ÅÆ„Ç≤„Éº„É†„ÇíÊ•Ω„Åó„ÇÇ„ÅÜÔºÅ</p>
  </footer>

  <!-- „É≠„Éº„Éá„Ç£„É≥„Ç∞ -->
  <div id="loading" class="loading">
    <div class="loading-spinner"></div>
    <p>„Ç≤„Éº„É†„ÇíË™≠„ÅøËæº„Åø‰∏≠...</p>
  </div>

  <script>
    // ====== script.js Áµ±ÂêàÔºàÊ©üËÉΩÁ∂≠ÊåÅÔºã„Ç∑„É£„ÉÉ„Éï„É´ÂØæÂøúÔºã‚òÖÁ¥ØË®à„Éó„É¨„Ç§‰øùÂ≠òÔºâ ======

    // ‚òÖ ËøΩÂä†Ôºö„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Ç≠„Éº
    const STORAGE_KEY = 'titanPlayCounts_v1';

    // ‚òÖ ËøΩÂä†Ôºö‰øùÂ≠ò„ÉªË™≠Ëæº„Éò„É´„Éë
    function loadPlayCounts(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        return raw ? JSON.parse(raw) : {};
      }catch(e){
        console.warn('playCounts load failed', e);
        return {};
      }
    }
    function savePlayCounts(obj){
      try{
        localStorage.setItem(STORAGE_KEY, JSON.stringify(obj));
      }catch(e){
        console.warn('playCounts save failed', e);
      }
    }

    // ‚òÖ ËøΩÂä†Ôºö„Ç´„Ç¶„É≥„ÉàÊìç‰Ωú
    let playCounts = loadPlayCounts(); // { [gameUrl]: number }
    function getCount(url){ return playCounts[url] || 0; }
    function addCount(url){
      playCounts[url] = (playCounts[url] || 0) + 1;
      savePlayCounts(playCounts);
    }
    function sumAllCounts(){
      return Object.values(playCounts).reduce((a,b)=>a+(typeof b==='number'?b:0),0);
    }

    // „Ç≤„Éº„É†„Éá„Éº„ÇøÔºà‚òÖ 44-action-RPG „ÇíËøΩÂä†Ôºâ
    const gameData = [
      { title:'„É™„Ç∫„É†„Ç≤„Éº„É†2Ôºö„Éì„Éº„Éà„Éû„Çπ„Çø„Éº', category:'action', keywords:'„É™„Ç∫„É† Èü≥Ê•Ω „Éì„Éº„Éà', url:'https://titan11111.github.io/63-rizme2/', icon:'üéµ', isNew:true },
      { title:'ARPGÔºàÂâ£„ÉªÁàÜÂºæ„Éª„É¢„Éê„Ç§„É´ÂØæÂøúÔºâ', category:'action adventure', keywords:'ARPG „Ç¢„ÇØ„Ç∑„Éß„É≥ RPG Ââ£ ÁàÜÂºæ „É¢„Éê„Ç§„É´', url:'https://titan11111.github.io/44-action-RPG/', icon:'üó°Ô∏è', isNew:true },

      { title:'RPG4ÔºöÊñ∞„Åü„Å™„ÇãÂÜíÈô∫', category:'adventure', keywords:'RPG „Éï„Ç°„É≥„Çø„Ç∏„Éº ÂÜíÈô∫ 4', url:'https://titan11111.github.io/62-RPG4/', icon:'üõ°Ô∏è', isNew:true },
      { title:'„É™„Ç∫„É†„Ç≤„Éº„É†Ôºö„Éì„Éº„Éà„ÉÅ„É£„É¨„É≥„Ç∏', category:'action', keywords:'„É™„Ç∫„É† Èü≥Ê•Ω „Éì„Éº„Éà', url:'https://titan11111.github.io/61-rizme/', icon:'üéµ', isNew:true },
      { title:'„Ç§„É≥„Éô„Éº„ÉÄ„Éº„Éñ„É≠„ÉÉ„ÇØÔºöÂÆáÂÆô„ÅÆÊîªÈò≤', category:'action', keywords:'„Ç§„É≥„Éô„Éº„ÉÄ„Éº „Éñ„É≠„ÉÉ„ÇØ „Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞ „Éë„Ç∫„É´', url:'https://titan11111.github.io/59-inveder-block/', icon:'üëæ', isNew:true },
      { title:'„Ç§„É≥„Éô„Éº„ÉÄ„ÉºÔºöÂÆáÂÆôÈò≤Ë°õÊà¶', category:'action', keywords:'„Ç§„É≥„Éô„Éº„ÉÄ„Éº „Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞ ÂÆáÂÆô', url:'https://titan11111.github.io/57-inveder/', icon:'üëæ', isNew:true },
      { title:'„Éñ„É≠„ÉÉ„ÇØÂ¥©„Åó', category:'action', keywords:'„Éñ„É≠„ÉÉ„ÇØ „Éñ„É≠„ÉÉ„ÇØÂ¥©„Åó', url:'https://titan11111.github.io/55-block/', icon:'üß±', isNew:true },
      { title:'RPGÔºöÂãáËÄÖ„ÅÆÂ∏∞ÈÇÑ', category:'adventure', keywords:'RPG „Éï„Ç°„É≥„Çø„Ç∏„Éº ÂÜíÈô∫ ÂãáËÄÖ', url:'https://titan11111.github.io/54-RPG-/', icon:'üõ°Ô∏è', isNew:true },
      { title:'„Çπ„Ç≠„É£„É≥„Éï„Ç°„Ç§„Çø„Éº„Ç∫ÔºöË∂ÖÂèçÂøú„Éê„Éà„É´', category:'battle action', keywords:'„Çπ„Ç≠„É£„É≥ „Éï„Ç°„Ç§„Çø„Éº „Éê„Éà„É´', url:'https://titan11111.github.io/53-SCAN-FIGHTERS/', icon:'üõ∞Ô∏è', isNew:true },
      { title:'ÁàÜÈÄüÈÖçÈÅî‰∫∫:ÂÆ∂„ÇíÊé¢„ÅõÔºÅ', category:'action', keywords:'„Ç¢„ÇØ„Ç∑„Éß„É≥ „Éí„Éº„É≠„Éº Êà¶Èóò', url:'https://titan11111.github.io/52-action3/', icon:'‚ö°', isNew:true },
      { title:'„Ç¢„ÇØ„Ç∑„Éß„É≥„Ç∏„É£„É≥„ÉóÔºöÂ§©Á©∫„Å∏„ÅÆÊåëÊà¶', category:'action', keywords:'„Ç¢„ÇØ„Ç∑„Éß„É≥ „Ç∏„É£„É≥„Éó', url:'https://titan11111.github.io/50-action-jamp/', icon:'üèÉ', isNew:true },
      { title:'„ÉÜ„Éà„É™„ÇπÔºöËêΩ„Å°Áâ©„Éë„Ç∫„É´', category:'action', keywords:'„ÉÜ„Éà„É™„Çπ „Éë„Ç∫„É´ „Éñ„É≠„ÉÉ„ÇØ', url:'https://titan11111.github.io/50-tetoris/', icon:'üß©', isNew:true },
      { title:'„É´„Éº„É¨„ÉÉ„ÉàÔºöÈÅãÂëΩ„ÅÆÂõûËª¢', category:'quiz', keywords:'„É´„Éº„É¨„ÉÉ„Éà ÈÅã Ë©¶„Åó', url:'https://titan11111.github.io/51-rulet/', icon:'üé∞', isNew:true },
      { title:'„ÇØ„Ç®„Çπ„ÉàÔºöÂÜíÈô∫„ÅÆÂßã„Åæ„Çä', category:'adventure', keywords:'„ÇØ„Ç®„Çπ„Éà ÂÜíÈô∫ RPG', url:'https://titan11111.github.io/50-quest/', icon:'üó°Ô∏è', isNew:true },
      { title:'„Éû„Ç§„ÇØ„É©Ôºö„Éñ„É≠„ÉÉ„ÇØ„ÅÆ‰∏ñÁïå', category:'adventure', keywords:'„Éû„Ç§„ÇØ„É© Minecraft „Éñ„É≠„ÉÉ„ÇØ', url:'https://titan11111.github.io/49-maikura/', icon:'‚õèÔ∏è', isNew:true },
      { title:'„Ç¢„ÇØ„Ç∑„Éß„É≥„Éí„Éº„É≠„Éº2ÔºöÊøÄÈóò„ÅÆÂÜçÊù•', category:'action', keywords:'„Ç¢„ÇØ„Ç∑„Éß„É≥ Êà¶Èóò ÂèçÂ∞ÑÁ•ûÁµå', url:'https://titan11111.github.io/48-action2/', icon:'‚ö°', isNew:true },
      { title:'ÈõªËªäÂÜíÈô∫ÔºöÁ∑öË∑Ø„ÅÆÊóÖ', category:'adventure', keywords:'ÈõªËªä ÂàóËªä ‰πó„ÇäÁâ©', url:'https://titan11111.github.io/47-dennsya/', icon:'üöÜ', isNew:true },
      { title:'„Éü„ÇøÔºöÊú™Áü•„ÅÆÂÜíÈô∫', category:'adventure', keywords:'„Éü„Çø ÂÜíÈô∫', url:'https://titan11111.github.io/46-mita/', icon:'üëÄ', isNew:true },
      { title:'È≠îÂ°îÔºöÈóá„ÅÆÂ°î„ÅÆË©¶Á∑¥', category:'adventure', keywords:'È≠îÂ°î Â°î „ÉÄ„É≥„Ç∏„Éß„É≥', url:'https://titan11111.github.io/45-matou/', icon:'üóº', isNew:true },
      { title:'„Å≠„Åè„Å≥2ÔºöÂ§¢Âπª„ÅÆÂÜíÈô∫', category:'adventure', keywords:'„Å≠„Åè„Å≥ Áú†„Çä Â§¢', url:'https://titan11111.github.io/44-nekubi2/', icon:'üò¥', isNew:true },
      { title:'Ê†ºÈóò„ÉÅ„É£„É≥„Éî„Ç™„É≥2ÔºöÊúÄÂº∑„ÅÆÊåëÊà¶ËÄÖ', category:'battle action', keywords:'Ê†ºÈóò „Éê„Éà„É´ ÂØæÊà¶', url:'https://titan11111.github.io/43-kakuge2/', icon:'ü•ä', isNew:true },
      { title:'„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞4ÔºöÂ§©Á©∫„ÅÆÊøÄÊà¶', category:'action', keywords:'„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞ ÂÆáÂÆô ÂºæÂπï', url:'https://titan11111.github.io/42-syutinngu/', icon:'üöÄ', isNew:true },
      { title:'„Éõ„É©„ÉºËÑ±Âá∫2ÔºöÈóáÂ§ú„ÅÆÂÜçÊù•', category:'adventure', keywords:'„Éõ„É©„Éº ÊÄñ„ÅÑ ËÑ±Âá∫', url:'https://titan11111.github.io/41-horaa2/', icon:'üëª', isNew:true },
      { title:'„Éõ„É©„ÉºËÑ±Âá∫2ÔºöÂÆ∂„ÅÆË¶ãÂèñ„ÇäÂõ≥ 3D', category:'adventure', keywords:'„Éõ„É©„Éº Ë¶ãÂèñ„ÇäÂõ≥ 3D', url:'horaa2_map3d.html', icon:'üó∫Ô∏è', isNew:true },
      { title:'Ê†ºÈóò„ÉÅ„É£„É≥„Éî„Ç™„É≥', category:'battle action', keywords:'Ê†ºÈóò „Éê„Éà„É´ ÂØæÊà¶', url:'https://titan11111.github.io/40-kakuge/', icon:'ü•ä', isNew:true },
      { title:'„Éõ„É©„ÉºËÑ±Âá∫', category:'adventure', keywords:'„Éõ„É©„Éº ÊÄñ„ÅÑ ËÑ±Âá∫', url:'https://titan11111.github.io/39-horaa/', icon:'üëª', isNew:true },
      { title:'ÊòüÁ©∫„Éê„Éà„É©„Éº', category:'action', keywords:'„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞ ÂÆáÂÆô ÂºæÂπï', url:'https://titan11111.github.io/38-shoot3/', icon:'üöÄ', isNew:true },
      { title:'ÂÜíÈô∫RPGÔºö‰ºùË™¨„ÅÆÂßã„Åæ„Çä', category:'adventure', keywords:'RPG „Éï„Ç°„É≥„Çø„Ç∏„Éº ÂÜíÈô∫', url:'https://titan11111.github.io/37-RPG/', icon:'üßô‚Äç‚ôÇÔ∏è', isNew:true },
      { title:'Â≠¶Âúí„Ç¢„Éâ„Éô„É≥„ÉÅ„É£„ÉºÔºö„Å≤„Åø„Å§„ÅÆÊîæË™≤Âæå', category:'adventure', keywords:'Â≠¶Âúí Â≠¶Ê†°', url:'https://titan11111.github.io/35-gakuen/', icon:'üè´', isNew:true },
      { title:'„Éá„É¢„É≥„Ç≠„É£„ÉÉ„Çπ„É´ÔºöÈ≠îÂüé„ÅÆË©¶Á∑¥', category:'adventure', keywords:'„Éá„É¢„É≥ „Ç≠„É£„ÉÉ„Çπ„É´ È≠îÁâ©', url:'https://titan11111.github.io/34-demon_castle/', icon:'üè∞', isNew:true },
      { title:'„Å≠„Åè„Å≥ÔºöÂ§¢„Åø„ÇãÊóÖ‰∫∫', category:'adventure', keywords:'„Å≠„Åè„Å≥ Áú†„Çä Â§¢', url:'https://titan11111.github.io/33--nekubi/', icon:'üò¥', isNew:true },
      { title:'„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞2ÔºöÁÇé„ÅÆÈÄÜË•≤', category:'action', keywords:'„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞ Â∞ÑÊíÉ ÈÄ£Â∞Ñ', url:'https://titan11111.github.io/32-shoot2/', icon:'üéØ', isNew:true },
      { title:'„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞1ÔºöÂàù„ÇÅ„Å¶„ÅÆÊà¶Â†¥', category:'action', keywords:'„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞ Â∞ÑÊíÉ', url:'https://titan11111.github.io/31-shoot/', icon:'üî´', isNew:true },
      { title:'‰∏ñÁïåÊ®πÊé¢Ê§úÔºö‰ºùË™¨„ÅÆÊ®π„ÇíÊ±Ç„ÇÅ„Å¶', category:'adventure', keywords:'Á•ûÁßò „Éï„Ç°„É≥„Çø„Ç∏„Éº ÂÜíÈô∫ ‰∏ñÁïåÊ®π Êé¢Ê§ú', url:'https://titan11111.github.io/30-yugudora/', icon:'üå≥', isNew:true },
      { title:'„ÇØ„Ç§„Ç∫4ÔºöË∂ÖÈõ£Âïè„ÉÅ„É£„É¨„É≥„Ç∏', category:'quiz', keywords:'„ÇØ„Ç§„Ç∫ ÂïèÈ°å È†≠ËÑ≥', url:'https://titan11111.github.io/titan11111-quiz4/', icon:'üß†', isNew:true },
      { title:'„ÇØ„Ç§„Ç∫3Ôºö„Å≤„Çâ„ÇÅ„ÅçÂãùË≤†', category:'quiz', keywords:'„ÇØ„Ç§„Ç∫ ÂïèÈ°å È†≠ËÑ≥', url:'https://titan11111.github.io/28-quiz3/', icon:'üß†' },
      { title:'Ëø∑„ÅÑ„ÅÆÊ£ÆÔºö„Åï„Åï„ÇÑ„ÅèÊú®„ÄÖ„ÅÆË™ò„ÅÑ', category:'adventure', keywords:'Ê£Æ Ëø∑„ÅÑ Á•ûÁßò Êé¢Á¥¢', url:'https://titan11111.github.io/27-mayoimori/', icon:'üå≤' },
      { title:'Âùä‰∏ª„ÇÅ„Åè„ÇäÔºöÈÅãË©¶„Åó„Éê„Éà„É´', category:'quiz', keywords:'Âùä‰∏ª „ÇÅ„Åè„Çä „Ç´„Éº„Éâ ‰ºùÁµ±', url:'https://titan11111.github.io/26-bouzu/', icon:'üé¥' },
      { title:'Âπ≥Âíå„Å™‰∏ñÁïå„ÅÆÊùë‰∫∫„ÅÆÊÇ©„ÅøËß£Ê±∫Â±ã„Åï„Çì', category:'adventure', keywords:'Âπ≥Âíå ‰∏ñÁïå Êùë‰∫∫ ÊÇ©„Åø Ëß£Ê±∫', url:'https://titan11111.github.io/25-heiwa/', icon:'üïäÔ∏è' },
      { title:'„Å≠„Åì„Å≠„Åì„Å≠„ÅìÔºö„Å´„ÇÉ„Çì„Åì„Éë„É¨„Éº„Éâ', category:'action', keywords:'„Å≠„Åì Áå´ „Åü„Åè„Åï„Çì', url:'https://titan11111.github.io/24-nekonekoneko/', icon:'üò∏' },
      { title:'Áµ¶È£üÂΩìÁï™„É™„Ç∫„É†Ôºö„Ç≠„ÉÉ„ÉÅ„É≥„Éì„Éº„Éà', category:'action', keywords:'Áµ¶È£ü „É™„Ç∫„É† Â≠¶Ê†°', url:'https://titan11111.github.io/23-kyuusyoku/', icon:'üçΩÔ∏è' },
      { title:'„Åä„Åï„Çì„ÅΩÊó•ÂíåÔºö„Å¶„Åè„Å¶„ÅèÂÜíÈô∫', category:'adventure', keywords:'Êï£Ê≠© Êé¢Á¥¢ „ÅÆ„Çì„Å≥„Çä', url:'https://titan11111.github.io/21-sanpo/', icon:'üö∂' },
      { title:'ÂØæÁß∞„Éë„Ç∫„É´Ôºö„Éü„É©„Éº„ÅÆÈ≠îÊ≥ï', category:'adventure', keywords:'ÂØæÁß∞ „Éë„Ç∫„É´ Áæé„Åó„ÅÑ', url:'https://titan11111.github.io/20-taisyou/', icon:'‚ú®' },
      { title:'„Çâ„Å£„ÅãÔºö„Çπ„Ç´„Ç§„Éâ„É≠„ÉÉ„Éó', category:'action', keywords:'ËêΩ‰∏ã „Ç¢„ÇØ„Ç∑„Éß„É≥ „Çπ„Éî„Éº„Éâ ÂèçÂ∞ÑÁ•ûÁµå', url:'https://titan11111.github.io/19-rakka/', icon:'ü™Ç', isNew:true },
      { title:'„Çµ„Ç§„Éê„ÉºËã±Ë™ûÔºö„Éç„Ç™„É≥„ÅÆÂ≠¶Áøí', category:'quiz learning', keywords:'Ëã±Ë™û Â≠¶Áøí „Çµ„Ç§„Éê„Éº ‰∏≠Â≠¶', url:'https://titan11111.github.io/18-eigo2/', icon:'üåê' },
      { title:'ÈõªËÑ≥„Ç¢„ÇØ„Ç∑„Éß„É≥Ôºö„Éá„Ç∏„Çø„É´„Ç¶„Ç©„Éº„Ç∫', category:'action', keywords:'ÈõªËÑ≥ „Çµ„Ç§„Éê„Éº „Ç¢„ÇØ„Ç∑„Éß„É≥ SF', url:'https://titan11111.github.io/17-action/', icon:'üöÄ' },
      { title:'„É≠„Éú„ÉÉ„Éà„É©„É≥„Éä„ÉºÔºö„É°„Ç´„ÉÄ„ÉÉ„Ç∑„É•', category:'action', keywords:'„É≠„Éú„ÉÉ„Éà „É©„É≥„Éä„Éº Ëµ∞„Çã', url:'https://titan11111.github.io/16-nigeru/', icon:'ü§ñ' },
      { title:'„Çª„É´„Éï„Éà„Éº„ÇØÔºö„Ç≥„Ç≥„É≠„Å®ÂØæË©±', category:'adventure', keywords:'„Çª„É´„Éï„Éà„Éº„ÇØ ÂØæË©± ÂøÉ', url:'https://titan11111.github.io/15-selftalk/', icon:'üí≠' },
      { title:'„Éâ„Ç≠„Éâ„Ç≠Ë®∫Êñ≠Ôºö„Éè„Éº„Éà„ÉÅ„Çß„ÉÉ„ÇØ', category:'quiz', keywords:'Ë®∫Êñ≠ „Éâ„Ç≠„Éâ„Ç≠ ÂøÉÁêÜ', url:'https://titan11111.github.io/14-dokidoki/', icon:'üíñ' },
      { title:'Ê≠¥Âè≤„Çπ„Éà„Éº„É™„ÉºÔºöÊôÇÁ©∫„ÅÆÊóÖ', category:'quiz learning', keywords:'Ê≠¥Âè≤ ÂãâÂº∑ „Çπ„Éà„Éº„É™„Éº', url:'https://titan11111.github.io/13-histry/', icon:'üìö' },
      { title:'ÂïÜÂ£≤‰ΩìÈ®ìÔºö„Éû„Éº„Ç±„ÉÉ„Éà„Éû„Çπ„Çø„Éº', category:'adventure', keywords:'ÂïÜÂ£≤ Â£≤Ë≤∑ ‰ΩìÈ®ì „Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥', url:'https://titan11111.github.io/12-buysell_game/', icon:'üí∞' },
      { title:'Ë≤∑„ÅÑÁâ©„Ç≤„Éº„É†Ôºö„Ç∑„Éß„ÉÉ„Éó„ÉÅ„É£„É¨„É≥„Ç∏', category:'adventure', keywords:'Ë≤∑„ÅÑÁâ© „Ç∑„Éß„ÉÉ„Éî„É≥„Ç∞ „ÅäÈáë', url:'https://titan11111.github.io/11-kaimono_game/', icon:'üõí' },
      { title:'ÈÅ∏Êäû„ÇØ„Ç§„Ç∫ÔºöÊ≠£Ëß£„ÇíÈÅ∏„Åπ', category:'quiz', keywords:'ÈÅ∏Êäû „ÇØ„Ç§„Ç∫ ÂïèÈ°å', url:'https://titan11111.github.io/10-senntaku_game/', icon:'‚ùì' },
      { title:'„Éê„Éà„É´„Ç≤„Éº„É†2Ôºö„Éï„Ç°„Ç§„Éä„É´„Éá„É•„Ç®„É´', category:'battle', keywords:'„Éê„Éà„É´ Êà¶Èóò Êà¶„ÅÑ 2', url:'https://titan11111.github.io/9-battle2-game/', icon:'‚öîÔ∏è', isNew:true },
      { title:'ÈÖ∏„Ç¢„É´„Éê„Éà„É´ÔºöÁßëÂ≠¶„Éê„Éà„É´', category:'battle learning', keywords:'ÈÖ∏ „Ç¢„É´„Ç´„É™ ÂåñÂ≠¶ „Éê„Éà„É´', url:'https://titan11111.github.io/8-sannaru_game/', icon:'‚öóÔ∏è' },
      { title:'Ëâ≤ËÇ≤ÊàêÔºö„Ç´„É©„Éº„ÉØ„Éº„É´„Éâ', category:'adventure', keywords:'Ëâ≤ ËÇ≤Êàê „Ç´„É©„Éº', url:'https://titan11111.github.io/7-iro_game/', icon:'üåà' },
      { title:'Ëã±Ë™û„Ç≤„Éº„É†Ôºö„ÉØ„Éº„Éâ„ÇØ„Ç®„Çπ„Éà', category:'quiz learning', keywords:'Ëã±Ë™û Â≠¶Áøí', url:'https://titan11111.github.io/6-eigo-game/', icon:'üìò' },
      { title:'Ëø∑Ë∑Ø„ÇØ„Ç§„Ç∫Ôºö„É©„Éì„É™„É≥„Çπ„ÉÅ„É£„É¨„É≥„Ç∏', category:'adventure quiz', keywords:'Ëø∑Ë∑Ø „ÇØ„Ç§„Ç∫ RPG ÂÜíÈô∫', url:'https://titan11111.github.io/5-meiro_game/', icon:'üó∫Ô∏è' },
      { title:'„Éê„Éà„É´„Ç≤„Éº„É†Ôºö„ÇΩ„Éº„Éâ„Ç¢„É™„Éº„Éä', category:'battle', keywords:'„Éê„Éà„É´ Êà¶Èóò Êà¶„ÅÑ', url:'https://titan11111.github.io/4-battle-game/', icon:'‚öîÔ∏è' },
      { title:'„ÅÇ„Åø„Å†„Åè„ÅòÔºö„É©„ÉÉ„Ç≠„Éº„Éë„Çπ', category:'adventure', keywords:'„ÅÇ„Åø„Å† „Åè„Åò ÈÅã ÈÅ∏Êäû', url:'https://titan11111.github.io/3-amida-game/', icon:'üéØ' },
      { title:'ÂåñÂêàÁâ©„ÇØ„Ç§„Ç∫Ôºö„Çµ„Ç§„Ç®„É≥„Çπ„Éî„Éº„Çπ', category:'quiz learning', keywords:'ÂåñÂêàÁâ© ÁßëÂ≠¶ ÁêÜÁßë „ÇØ„Ç§„Ç∫', url:'https://titan11111.github.io/2-kagoubutu_game/', icon:'üß™' },
      { title:'„Å≠„Åì„Ç≠„É£„ÉÉ„ÉÅÔºö„Åô„Å∞„ÇÑ„ÅèÊçï„Åæ„Åà„Çà„ÅÜ', category:'action', keywords:'„Å≠„Åì Áå´ „Ç≠„É£„ÉÉ„ÉÅ ÂãïÁâ©', url:'https://titan11111.github.io/1-neko_catch_game/', icon:'üê±' }
    ];

    // „Ç∞„É≠„Éº„Éê„É´
    let currentPage = 1;
    const itemsPerPage = 12;
    let filteredGames = [];
    let baseGames = []; // ÊØéÂõû„ÅÆÂü∫Ê∫ñÔºà„Ç∑„É£„ÉÉ„Éï„É´Ê∏àÔºâ
    let currentCategory = 'all';

    // DOM
    const gamesList = document.getElementById('gamesList');
    const searchInput = document.getElementById('searchInput');
    const searchBtn = document.getElementById('searchBtn');
    const filterBtns = document.querySelectorAll('.filter-btn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const pageNumbers = document.getElementById('pageNumbers');
    const gameCount = document.getElementById('gameCount');
    const totalGames = document.getElementById('totalGames');
    const newGames = document.getElementById('newGames');
    const categories = document.getElementById('categories');
    const totalPlays = document.getElementById('totalPlays'); // ‚òÖ ËøΩÂä†
    const loading = document.getElementById('loading');

    // „Ç∑„É£„ÉÉ„Éï„É´
    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
      return arr;
    }

    document.addEventListener('DOMContentLoaded', () => {
      // „É≠„Éº„Éá„Ç£„É≥„Ç∞ÊºîÂá∫
      setTimeout(() => {
        loading.classList.add('hidden');
        initializeApp();
      }, 1200);
    });

    function initializeApp(){
      // ÂàùÊúü„É≠„Éº„Éâ„Åî„Å®„Å´‰∏¶„Å≥„Çí„É©„É≥„ÉÄ„É†Âåñ
      baseGames = shuffle([...gameData]);
      filteredGames = [...baseGames];

      updateStats();
      renderGames();
      setupEventListeners();
      updatePagination();
    }

    function updateStats(){
      totalGames.textContent = baseGames.length;
      newGames.textContent = baseGames.filter(g => g.isNew).length;

      const unique = new Set();
      baseGames.forEach(g => g.category.split(' ').forEach(c => unique.add(c)));
      categories.textContent = unique.size;

      // ‚òÖ Á∑è„Éó„É¨„Ç§ÂõûÊï∞ÔºàlocalStorage„ÅÆÂêàË®àÔºâ
      totalPlays.textContent = sumAllCounts();

      animateCountUp(totalGames, parseInt(totalGames.textContent,10));
      animateCountUp(newGames, parseInt(newGames.textContent,10));
      animateCountUp(categories, parseInt(categories.textContent,10));
      animateCountUp(totalPlays, parseInt(totalPlays.textContent,10));
    }
    function animateCountUp(el,target){
      let cur=0; const inc=Math.max(1, target/50);
      const t=setInterval(()=>{
        cur+=inc;
        if(cur>=target){cur=target;clearInterval(t)}
        el.textContent=Math.floor(cur);
      },30);
    }

    function setupEventListeners(){
      searchInput.addEventListener('input', handleSearch);
      searchBtn.addEventListener('click', handleSearch);
      searchInput.addEventListener('keypress', e => { if(e.key==='Enter') handleSearch(); });

      filterBtns.forEach(btn => btn.addEventListener('click', () => handleFilter(btn)));

      prevBtn.addEventListener('click', () => changePage(currentPage-1));
      nextBtn.addEventListener('click', () => changePage(currentPage+1));
    }

    function handleSearch(){
      const term = searchInput.value.toLowerCase().trim();

      if(term===''){
        filteredGames = baseGames.filter(g => currentCategory==='all' || g.category.includes(currentCategory));
      }else{
        filteredGames = baseGames.filter(g => {
          const matchCat = (currentCategory==='all' || g.category.includes(currentCategory));
          const matchText =
            g.title.toLowerCase().includes(term) ||
            g.keywords.toLowerCase().includes(term) ||
            g.category.toLowerCase().includes(term);
          return matchCat && matchText;
        });
      }
      currentPage = 1;
      renderGames(); updatePagination();

      if(term){
        setTimeout(()=>{
          document.querySelectorAll('.game-card').forEach(card=>{
            card.animate([{transform:'translateY(0)'},{transform:'translateY(-8px)'},{transform:'translateY(0)'}],{duration:600,easing:'ease-in-out'});
          });
        },100);
      }
    }

    function handleFilter(btn){
      filterBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      currentCategory = btn.dataset.category;
      const term = searchInput.value.toLowerCase().trim();

      if(currentCategory==='all'){
        filteredGames = baseGames.filter(g =>
          term==='' ||
          g.title.toLowerCase().includes(term) ||
          g.keywords.toLowerCase().includes(term) ||
          g.category.toLowerCase().includes(term)
        );
      }else{
        filteredGames = baseGames.filter(g => {
          const matchCat = g.category.includes(currentCategory);
          const matchText = term==='' ||
            g.title.toLowerCase().includes(term) ||
            g.keywords.toLowerCase().includes(term) ||
            g.category.toLowerCase().includes(term);
          return matchCat && matchText;
        });
      }
      currentPage = 1;
      renderGames(); updatePagination();
    }

    function renderGames(){
      const start = (currentPage-1)*itemsPerPage;
      const end = start + itemsPerPage;
      const pageGames = filteredGames.slice(start,end);

      gamesList.innerHTML='';
      gameCount.textContent = `(${filteredGames.length})`;

      if(pageGames.length===0){
        gamesList.innerHTML = `
          <div style="grid-column:1/-1;text-align:center;padding:3rem;">
            <div style="font-size:4rem;margin-bottom:1rem;">üòÖ</div>
            <h3 style="color:#00ffff;margin-bottom:1rem;">„Ç≤„Éº„É†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì</h3>
            <p style="color:#cccccc;">Âà•„ÅÆ„Ç≠„Éº„ÉØ„Éº„Éâ„ÅßÊ§úÁ¥¢„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ</p>
          </div>`;
        return;
      }

      pageGames.forEach((game,i)=>{
        const card = createGameCard(game);
        card.style.animationDelay = `${i*0.1}s`;
        gamesList.appendChild(card);
      });
    }

    function createGameCard(game){
      const card = document.createElement('div');
      card.className = 'game-card';
      card.innerHTML = `
        <div class="game-header">
          <div class="game-icon">${game.icon}</div>
          <div class="game-title">${game.title}</div>
          ${game.isNew ? '<div class="new-badge">NEW!</div>' : ''}
        </div>
        <div class="game-keywords">${game.keywords}</div>
        <!-- ‚òÖ Á¥ØË®àÂõûÊï∞„ÅÆË°®Á§∫ -->
        <div class="play-count">Á¥ØË®à„Éó„É¨„Ç§<span class="count-pill"><span class="count-num">${getCount(game.url)}</span> Âõû</span></div>
        <button class="play-btn">üéÆ ÈÅä„Å∂</button>
      `;
      const playBtn = card.querySelector('.play-btn');
      playBtn.addEventListener('click',(e)=>{
        const btn=e.currentTarget; btn.style.transform='scale(0.95)';
        // ‚òÖ „Ç´„Ç¶„É≥„ÉàÊõ¥Êñ∞‚ÜíUIÂèçÊò†‚Üí‰øùÂ≠ò‚ÜíÂêàË®àÊõ¥Êñ∞
        addCount(game.url);
        const numEl = card.querySelector('.count-num');
        if(numEl) numEl.textContent = getCount(game.url);
        if(totalPlays) totalPlays.textContent = sumAllCounts();
        setTimeout(()=>{ btn.style.transform=''; window.open(game.url,'_blank'); },150);
      });
      return card;
    }

    function updatePagination(){
      const totalPages = Math.ceil(filteredGames.length/itemsPerPage);
      prevBtn.disabled = (currentPage===1);
      nextBtn.disabled = (currentPage===totalPages || totalPages===0);

      pageNumbers.innerHTML='';
      if(totalPages<=1) return;

      const maxVisible = 5;
      let start = Math.max(1, currentPage - Math.floor(maxVisible/2));
      let end = Math.min(totalPages, start + maxVisible - 1);
      if(end - start + 1 < maxVisible){ start = Math.max(1, end - maxVisible + 1); }

      for(let i=start;i<=end;i++){
        const pageBtn = document.createElement('div');
        pageBtn.className = `page-number ${i===currentPage?'active':''}`;
        pageBtn.textContent = i;
        pageBtn.addEventListener('click',()=>changePage(i));
        pageNumbers.appendChild(pageBtn);
      }
    }

    function changePage(p){
      const totalPages = Math.ceil(filteredGames.length/itemsPerPage);
      if(p<1 || p>totalPages) return;
      currentPage = p;
      renderGames(); updatePagination();
      document.querySelector('.games-section').scrollIntoView({behavior:'smooth'});
    }
  </script>
</body>
</html>
