<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>È≠îÊ≥ï„ÅÆ„Ç≤„Éº„É†„Éù„Éº„Çø„É´ | Ê•Ω„Åó„ÅÑ„Ç≤„Éº„É†Â§ßÈõÜÂêàÔºÅ</title>
    
    <!-- SEOÂØæÁ≠ñ -->
    <meta name="description" content="Â∞èÂ≠¶Áîü„Åã„ÇâÂ§ß‰∫∫„Åæ„ÅßÊ•Ω„Åó„ÇÅ„Çã„Ç≤„Éº„É†„Éù„Éº„Çø„É´„Çµ„Ç§„Éà„ÄÇ„Ç¢„ÇØ„Ç∑„Éß„É≥„ÄÅ„ÇØ„Ç§„Ç∫„ÄÅ„Ç¢„Éâ„Éô„É≥„ÉÅ„É£„Éº„Å™„Å©Êßò„ÄÖ„Å™„Ç∏„É£„É≥„É´„ÅÆ„Ç≤„Éº„É†„ÇíÁî®ÊÑè„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ">
    <meta name="keywords" content="„Ç≤„Éº„É†,Â∞èÂ≠¶Áîü,„ÇØ„Ç§„Ç∫,„Ç¢„ÇØ„Ç∑„Éß„É≥,„Ç¢„Éâ„Éô„É≥„ÉÅ„É£„Éº,Â≠¶Áøí,ÊïôËÇ≤">
    <meta name="author" content="Game Portal">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:title" content="È≠îÊ≥ï„ÅÆ„Ç≤„Éº„É†„Éù„Éº„Çø„É´">
    <meta property="og:description" content="Ê•Ω„Åó„ÅÑ„Ç≤„Éº„É†„Åå„ÅÑ„Å£„Å±„ÅÑÔºÅÂ∞èÂ≠¶Áîü„Åã„ÇâÂ§ß‰∫∫„Åæ„ÅßÈÅä„Åπ„Çã„Ç≤„Éº„É†ÈõÜ">
    <meta property="og:image" content="">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="">
    <meta property="twitter:title" content="È≠îÊ≥ï„ÅÆ„Ç≤„Éº„É†„Éù„Éº„Çø„É´">
    <meta property="twitter:description" content="Ê•Ω„Åó„ÅÑ„Ç≤„Éº„É†„Åå„ÅÑ„Å£„Å±„ÅÑÔºÅÂ∞èÂ≠¶Áîü„Åã„ÇâÂ§ß‰∫∫„Åæ„ÅßÈÅä„Åπ„Çã„Ç≤„Éº„É†ÈõÜ">
    <meta property="twitter:image" content="">
    
    <!-- PWAÂØæÂøú -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="„Ç≤„Éº„É†„Éù„Éº„Çø„É´">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="https://twemoji.maxcdn.com/v/latest/svg/1f3ae.svg">
    <link rel="apple-touch-icon" href="https://twemoji.maxcdn.com/v/latest/svg/1f3ae.svg">
    
    <!-- PreloadÈáçË¶Å„Å™„É™„ÇΩ„Éº„Çπ -->
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="script.js" as="script">
    
    <!-- „Çπ„Çø„Ç§„É´„Ç∑„Éº„Éà -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Google Fonts (optional) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* Ë™≠„ÅøËæº„Åø‰∏≠„ÅÆ„Çπ„Çø„Ç§„É´ */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            transition: opacity 0.5s ease;
        }
        
        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-wizard {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: bounce 1s infinite;
        }
        
        .loading-text {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }
        
        .loading-bar {
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .loading-progress {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            width: 0%;
            animation: loading 2s ease forwards;
        }
        
        @keyframes loading {
            to { width: 100%; }
        }
        
        /* „ÉÄ„Éº„ÇØ„ÉÜ„Éº„ÉûÊôÇ„ÅÆ„Éï„Ç©„É≥„Éà„Éï„Ç°„Éü„É™„ÉºË™øÊï¥ */
        body {
            font-family: 'Nunito', 'Arial', 'Hiragino Sans', '„Éí„É©„ÇÆ„ÉéËßí„Ç¥„Ç∑„ÉÉ„ÇØ', 'Yu Gothic', '„É°„Ç§„É™„Ç™', sans-serif;
        }

        /* „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥ */
        .favorite-btn {
            position: absolute;
            top: 8px;
            left: 8px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            z-index: 2;
        }

        .favorite-btn:hover {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.1);
        }

        .favorite-btn.active {
            background: #ff6b6b;
            color: white;
            animation: heartbeat 0.6s ease;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* Ë©ï‰æ°Êòü */
        .rating-stars {
            position: absolute;
            bottom: 8px;
            right: 8px;
            display: flex;
            gap: 2px;
        }

        .star {
            color: #ffd700;
            font-size: 0.8rem;
            opacity: 0.3;
            transition: opacity 0.3s ease;
        }

        .star.filled {
            opacity: 1;
        }

        /* ‰∫∫Ê∞ó„Éê„ÉÉ„Ç∏ */
        .popular-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: linear-gradient(45deg, #ff9a9e, #fecfef);
            color: #333;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            animation: pulse 2s infinite;
            box-shadow: 0 2px 8px rgba(255, 154, 158, 0.4);
        }

        /* ÊúÄËøë„Éó„É¨„Ç§„Åó„Åü„Ç≤„Éº„É† */
        .recent-section {
            margin-bottom: 30px;
            text-align: center;
        }

        .recent-games {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .recent-game {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .recent-game:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* ÂÆüÁ∏æ„Ç∑„Çπ„ÉÜ„É† */
        .achievements {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .achievement {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            transform: translateX(100%);
            animation: slideInAchievement 0.5s ease forwards;
            max-width: 250px;
        }

        .achievement-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .achievement-desc {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        @keyframes slideInAchievement {
            to {
                transform: translateX(0);
            }
        }

        /* „Éó„É¨„Ç§ÂõûÊï∞Ë°®Á§∫ */
        .play-count {
            position: absolute;
            bottom: 8px;
            left: 8px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* „Éï„Ç£„É´„Çø„Éº„Éê„ÉºÊîπËâØ */
        .filter-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .sort-select {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .sort-select:focus {
            outline: 2px solid rgba(255, 255, 255, 0.5);
        }

        /* „Ç≤„Éº„É†Áµ±Ë®à */
        .stats-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            display: none;
        }

        .stats-panel.show {
            display: block;
            animation: fadeInUp 0.5s ease;
        }

        .stats-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .stats-label {
            font-weight: 500;
        }

        .stats-value {
            font-weight: bold;
            color: #4CAF50;
        }
    </style>
</head>
<body>
    <!-- Ë™≠„ÅøËæº„ÅøÁîªÈù¢ -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-wizard">üßô‚Äç‚ôÇÔ∏è</div>
        <div class="loading-text">È≠îÊ≥ï„Çí„Åã„Åë„Å¶„ÅÑ„Åæ„Åô...</div>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
    </div>

    <!-- ÂÆüÁ∏æË°®Á§∫„Ç®„É™„Ç¢ -->
    <div class="achievements" id="achievements"></div>

    <div class="container">
        <!-- „Éò„ÉÉ„ÉÄ„ÉºÈÉ®ÂàÜ -->
        <header class="header">
            <div class="wizard-character" id="wizardCharacter" role="img" aria-label="È≠îÊ≥ï‰Ωø„ÅÑ„Ç≠„É£„É©„ÇØ„Çø„Éº" style="background-image: url('character.png');"></div>
            
            
        </header>

        <!-- Áµ±Ë®à„Éë„Éç„É´ -->
        <div class="stats-panel" id="statsPanel">
            <h3 style="text-align: center; margin-bottom: 15px; color: white;">üèÜ „ÅÇ„Å™„Åü„ÅÆÂÜíÈô∫Ë®òÈå≤</h3>
            <div class="stats-row">
                <span class="stats-label">Á∑è„Éó„É¨„Ç§ÂõûÊï∞:</span>
                <span class="stats-value" id="totalPlaysCount">0</span>
            </div>
            <div class="stats-row">
                <span class="stats-label">„ÅäÊ∞ó„Å´ÂÖ•„Çä„Ç≤„Éº„É†Êï∞:</span>
                <span class="stats-value" id="favoritesCount">0</span>
            </div>
            <div class="stats-row">
                <span class="stats-label">Êé¢Ê§ú„Åó„Åü„Ç∏„É£„É≥„É´:</span>
                <span class="stats-value" id="exploredCategories">0</span>
            </div>
            <div class="stats-row">
                <span class="stats-label">ÂÜíÈô∫ËÄÖ„É¨„Éô„É´:</span>
                <span class="stats-value" id="playerLevel">ÂàùÂøÉËÄÖ</span>
            </div>
        </div>

        <!-- ÊúÄËøë„Éó„É¨„Ç§„Åó„Åü„Ç≤„Éº„É† -->
        <div class="recent-section" id="recentSection" style="display: none;">
            <h3 style="color: white; margin-bottom: 10px;">üïí ÊúÄËøë„ÅÆÂÜíÈô∫</h3>
            <div class="recent-games" id="recentGames"></div>
        </div>

        <!-- Ê§úÁ¥¢„Éê„Éº -->
        <div class="search-container">
            <input 
                type="text" 
                id="searchInput" 
                class="search-input" 
                placeholder="„Ç≤„Éº„É†„ÇíÊ§úÁ¥¢„Åó„Å¶„Åø„Çà„ÅÜ..."
                autocomplete="off"
                role="searchbox"
                aria-label="„Ç≤„Éº„É†Ê§úÁ¥¢"
            >
            <button 
                id="searchClear" 
                class="search-clear" 
                type="button"
                aria-label="Ê§úÁ¥¢„Çí„ÇØ„É™„Ç¢"
                title="Ê§úÁ¥¢„Çí„ÇØ„É™„Ç¢"
            >
                √ó
            </button>
        </div>

        <!-- „Éï„Ç£„É´„Çø„Éº„Éê„Éº -->
        <div class="filter-bar">
            <!-- „Ç´„ÉÜ„Ç¥„É™„Éï„Ç£„É´„Çø„Éº -->
            <nav class="category-filter" role="tablist" aria-label="„Ç≤„Éº„É†„Ç´„ÉÜ„Ç¥„É™„Éº">
                <!-- JavaScript„ÅßÂãïÁöÑ„Å´ÁîüÊàê„Åï„Çå„Åæ„Åô -->
            </nav>
            
            <!-- ‰∏¶„Å≥Êõø„Åà -->
            <select class="sort-select" id="sortSelect">
                <option value="default">„Éá„Éï„Ç©„É´„ÉàÈ†Ü</option>
                <option value="popular">‰∫∫Ê∞óÈ†Ü</option>
                <option value="recent">ÊúÄËøë„Éó„É¨„Ç§„Åó„ÅüÈ†Ü</option>
                <option value="favorites">„ÅäÊ∞ó„Å´ÂÖ•„ÇäÈ†Ü</option>
                <option value="alphabetical">„ÅÇ„ÅÑ„ÅÜ„Åà„ÅäÈ†Ü</option>
            </select>

            <!-- Áµ±Ë®àË°®Á§∫„Éú„Çø„É≥ -->
            <button class="category-btn" id="statsToggle" type="button">
                üìä Áµ±Ë®àË°®Á§∫
            </button>
        </div>

        <!-- „Ç≤„Éº„É†Êï∞Ë°®Á§∫ -->
        <div class="game-count" id="gameCount" role="status" aria-live="polite">
            <span id="gameCountNumber">0</span> ÂÄã„ÅÆ„Ç≤„Éº„É†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„Åü
        </div>

        <!-- „Ç≤„Éº„É†‰∏ÄË¶ß -->
        <main class="games-grid" id="gamesGrid" role="main">
            <!-- JavaScript„ÅßÂãïÁöÑ„Å´ÁîüÊàê„Åï„Çå„Åæ„Åô -->
        </main>

        <!-- Ê§úÁ¥¢ÁµêÊûú„Å™„Åó„É°„ÉÉ„Çª„Éº„Ç∏ -->
        <div class="no-results" id="noResults" style="display: none;" role="alert">
            <div class="no-results-icon">üòÖ</div>
            <h3>„ÅÇ„Çå„ÇåÔºüË¶ã„Å§„Åã„Çâ„Å™„ÅÑ„Åø„Åü„ÅÑ...</h3>
            <p>Âà•„ÅÆ„Ç≠„Éº„ÉØ„Éº„Éâ„ÅßÊ§úÁ¥¢„Åó„Å¶„Åø„Çã„Åã„ÄÅ<br>„Ç´„ÉÜ„Ç¥„É™„ÇíÂ§â„Åà„Å¶„Åø„Å¶„Å≠ÔºÅ</p>
        </div>

        <!-- „Éï„ÉÉ„Çø„Éº -->
        <footer class="footer">
            <p>üåü Ê•Ω„Åó„ÅÑ„Ç≤„Éº„É†„ÅßÈÅä„Çì„Åß„Åè„Çå„Å¶„ÅÇ„Çä„Åå„Å®„ÅÜÔºÅ üåü</p>
            <p class="total-games">ÂÖ®<span id="totalGames">0</span>Á®ÆÈ°û„ÅÆ„Ç≤„Éº„É†„ÇíÁî®ÊÑè„Åó„Å¶„ÅÑ„Åæ„Åô</p>
            <p style="font-size: 0.9rem; opacity: 0.7; margin-top: 15px;">
                ‚ö° „Çà„ÇäËâØ„ÅÑ„Ç≤„Éº„É†‰ΩìÈ®ì„ÅÆ„Åü„ÇÅ„Å´ÂÆöÊúüÁöÑ„Å´Êõ¥Êñ∞‰∏≠ ‚ö°
            </p>
        </footer>
    </div>

    <!-- Èö†„Åó„Ç≥„É≥„ÉÜ„É≥„ÉÑÔºàSEOÁî®Ôºâ -->
    <div style="display: none;">
        <h2>„Ç≤„Éº„É†„ÅÆÁ®ÆÈ°û</h2>
        <ul>
            <li>„Ç¢„ÇØ„Ç∑„Éß„É≥„Ç≤„Éº„É† - ÂèçÂ∞ÑÁ•ûÁµå„ÇíÈçõ„Åà„ÇãÊ•Ω„Åó„ÅÑ„Ç≤„Éº„É†</li>
            <li>„ÇØ„Ç§„Ç∫„Ç≤„Éº„É† - È†≠„Çí‰Ωø„Å£„Å¶Ê•Ω„Åó„ÅèÂ≠¶Áøí</li>
            <li>„Ç¢„Éâ„Éô„É≥„ÉÅ„É£„Éº„Ç≤„Éº„É† - Êé¢Ê§ú„Å®ÂÜíÈô∫„ÅÆ‰∏ñÁïå</li>
            <li>„Éê„Éà„É´„Ç≤„Éº„É† - Êà¶Áï•ÁöÑ„Å™Êà¶Èóò„Ç≤„Éº„É†</li>
            <li>Â≠¶Áøí„Ç≤„Éº„É† - ÈÅä„Å≥„Å™„Åå„ÇâÂãâÂº∑„Åß„Åç„Çã„Ç≤„Éº„É†</li>
        </ul>
        
        <p>„Åì„ÅÆ„Çµ„Ç§„Éà„ÅØÂ∞èÂ≠¶Áîü„Åã„ÇâÂ§ß‰∫∫„Åæ„ÅßÊ•Ω„Åó„ÇÅ„Çã„Ç¶„Çß„Éñ„Ç≤„Éº„É†„ÇíÈõÜ„ÇÅ„Åü„Éù„Éº„Çø„É´„Çµ„Ç§„Éà„Åß„Åô„ÄÇ
        „Åô„Åπ„Å¶„ÅÆ„Ç≤„Éº„É†„ÅØ„Éñ„É©„Ç¶„Ç∂„ÅßÁõ¥Êé•„Éó„É¨„Ç§„Åß„Åç„ÄÅ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ‰∏çË¶Å„Åß„Åô„ÄÇ
        ÊïôËÇ≤ÁöÑ„Å™ÂÜÖÂÆπ„ÇÇÂê´„Åæ„Çå„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÅÊ•Ω„Åó„Åø„Å™„Åå„ÇâÂ≠¶Áøí„Åô„Çã„Åì„Å®„ÇÇÂèØËÉΩ„Åß„Åô„ÄÇ</p>
    </div>

    <!-- „Çπ„ÇØ„É™„Éó„Éà -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/twemoji.min.js" crossorigin="anonymous"></script>
    <script src="script.js"></script>
    
    <!-- Ë™≠„ÅøËæº„ÅøÂÆå‰∫ÜÊôÇ„ÅÆÂá¶ÁêÜ -->
    <script>
        // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÂÆå‰∫ÜÊôÇ„Å´Ë™≠„ÅøËæº„ÅøÁîªÈù¢„ÇíÈùûË°®Á§∫
        window.addEventListener('load', function() {
            setTimeout(() => {
                const loadingScreen = document.getElementById('loadingScreen');
                loadingScreen.classList.add('hidden');
                
                // „Åï„Çâ„Å´0.5ÁßíÂæå„Å´ÂÆåÂÖ®„Å´ÂâäÈô§
                setTimeout(() => {
                    loadingScreen.remove();
                }, 500);
            }, 1000);
        });
        
        // È≠îÊ≥ï‰Ωø„ÅÑ„Ç≠„É£„É©„ÇØ„Çø„Éº„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„ÅüÊôÇ„ÅÆÁâπÂà•„Å™ÂäπÊûú
        document.addEventListener('DOMContentLoaded', function() {
            const wizardCharacter = document.getElementById('wizardCharacter');
            let clickCount = 0;
            
            wizardCharacter.addEventListener('click', function() {
                clickCount++;
                
                // È≠îÊ≥ï„ÅÆ„Ç®„Éï„Çß„ÇØ„Éà
                this.style.animation = 'none';
                setTimeout(() => {
                    this.style.animation = 'bounce 0.6s ease';
                }, 10);
                
                // „ÇØ„É™„ÉÉ„ÇØÈü≥
                if (typeof playClickSound === 'function') {
                    playClickSound();
                }
                
                // ÁâπÂà•„Å™„É°„ÉÉ„Çª„Éº„Ç∏
                if (clickCount === 5) {
                    const messages = [
                        '‚ú® Èö†„Åó„Ç≥„Éû„É≥„ÉâÁô∫Ë¶ãÔºÅ',
                        'üéä È≠îÊ≥ï‰Ωø„ÅÑ„É¨„Éô„É´„Ç¢„ÉÉ„ÉóÔºÅ',
                        'üåü ÁâπÂà•„Å™Âäõ„ÅåÂÆø„Çä„Åæ„Åó„ÅüÔºÅ',
                        'üé≠ ÁßòÂØÜ„ÅÆÂë™Êñá„ÇíË¶ö„Åà„Åæ„Åó„ÅüÔºÅ'
                    ];
                    
                    const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                    
                    // ÂÆüÁ∏æËß£Èô§
                    if (typeof showAchievement === 'function') {
                        showAchievement('üßô‚Äç‚ôÇÔ∏è È≠îÊ≥ï‰Ωø„ÅÑ„Éû„Çπ„Çø„Éº', 'È≠îÊ≥ï‰Ωø„ÅÑ„Çí5Âõû„ÇØ„É™„ÉÉ„ÇØ„Åó„Åæ„Åó„ÅüÔºÅ');
                    }
                    
                    // ‰∏ÄÊôÇÁöÑ„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÇíË°®Á§∫
                    const messageDiv = document.createElement('div');
                    messageDiv.textContent = randomMessage;
                    messageDiv.style.cssText = `
                        position: fixed;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
                        color: white;
                        padding: 20px 30px;
                        border-radius: 25px;
                        font-size: 1.5rem;
                        font-weight: bold;
                        z-index: 10000;
                        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                        animation: bounceIn 0.8s ease;
                    `;
                    
                    document.body.appendChild(messageDiv);
                    
                    setTimeout(() => {
                        messageDiv.style.animation = 'fadeOut 0.5s ease';
                        setTimeout(() => messageDiv.remove(), 500);
                    }, 2000);
                    
                    clickCount = 0; // „É™„Çª„ÉÉ„Éà
                }
            });
        });
        
        // „Ç≠„Éº„Éú„Éº„Éâ„Ç∑„Éß„Éº„Éà„Ç´„ÉÉ„Éà
        document.addEventListener('keydown', function(event) {
            // Ctrl + K „ÅßÊ§úÁ¥¢„Å´„Éï„Ç©„Éº„Ç´„Çπ
            if ((event.ctrlKey || event.metaKey) && event.key === 'k') {
                event.preventDefault();
                document.getElementById('searchInput').focus();
            }
            
            // Escape„ÅßÊ§úÁ¥¢„Çí„ÇØ„É™„Ç¢
            if (event.key === 'Escape') {
                const searchInput = document.getElementById('searchInput');
                if (searchInput.value) {
                    searchInput.value = '';
                    if (typeof filterGames === 'function') {
                        filterGames();
                    }
                    document.getElementById('searchClear').style.display = 'none';
                }
            }
        });
        
        // „Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÁõ£Ë¶ñ
        if ('performance' in window) {
            window.addEventListener('load', function() {
                setTimeout(() => {
                    const perfData = performance.getEntriesByType('navigation')[0];
                    if (perfData) {
                        console.log('üöÄ „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇÈñì:', Math.round(perfData.loadEventEnd - perfData.loadEventStart), 'ms');
                    }
                }, 0);
            });
        }
        
        // „Éì„É•„Éº„Éù„Éº„Éà„ÅÆÂ§âÊõ¥„ÇíÁõ£Ë¶ñ
        if ('visualViewport' in window) {
            window.visualViewport.addEventListener('resize', function() {
                // „Çπ„Éû„Éõ„Åß„Ç≠„Éº„Éú„Éº„Éâ„ÅåË°®Á§∫„Åï„Çå„ÅüÊôÇ„ÅÆË™øÊï¥
                document.documentElement.style.setProperty('--vh', `${window.visualViewport.height * 0.01}px`);
            });
        }
        
        // „Çø„ÉÉ„ÉÅÊìç‰Ωú„ÅÆÊúÄÈÅ©Âåñ
        if ('ontouchstart' in window) {
            document.addEventListener('touchstart', function() {}, { passive: true });
            document.addEventListener('touchmove', function() {}, { passive: true });
        }
        
        // „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞
        window.addEventListener('error', function(event) {
            console.error('üö® „Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü:', event.error);
            
            // „É¶„Éº„Ç∂„Éº„Éï„É¨„É≥„Éâ„É™„Éº„Å™„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏
            const errorDiv = document.createElement('div');
            errorDiv.innerHTML = `
                <div style="
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: #ff6b6b;
                    color: white;
                    padding: 15px 20px;
                    border-radius: 10px;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                    z-index: 10000;
                    max-width: 300px;
                    font-size: 0.9rem;
                ">
                    üòÖ „Å°„Çá„Å£„Å®„Åó„ÅüÂïèÈ°å„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ<br>
                    „Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                    <button onclick="this.parentElement.remove()" style="
                        background: none;
                        border: none;
                        color: white;
                        float: right;
                        cursor: pointer;
                        font-size: 1.2rem;
                        margin-top: -5px;
                    ">√ó</button>
                </div>
            `;
            document.body.appendChild(errorDiv);
            
            // 5ÁßíÂæå„Å´Ëá™Âãï„ÅßÂâäÈô§
            setTimeout(() => {
                errorDiv.remove();
            }, 5000);
        });
        
        // „Ç™„É≥„É©„Ç§„É≥/„Ç™„Éï„É©„Ç§„É≥Áä∂ÊÖã„ÅÆÁõ£Ë¶ñ
        window.addEventListener('online', function() {
            console.log('üåê „Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà„Å´Êé•Á∂ö„Åï„Çå„Åæ„Åó„Åü');
        });
        
        window.addEventListener('offline', function() {
            console.log('üì± „Ç™„Éï„É©„Ç§„É≥„É¢„Éº„Éâ„Å´„Å™„Çä„Åæ„Åó„Åü');
            
            const offlineDiv = document.createElement('div');
            offlineDiv.innerHTML = `
                <div style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    background: #f39c12;
                    color: white;
                    text-align: center;
                    padding: 10px;
                    z-index: 10000;
                    font-weight: bold;
                ">
                    üì± „Ç™„Éï„É©„Ç§„É≥„É¢„Éº„Éâ„Åß„Åô„ÄÇ‰∏ÄÈÉ®„ÅÆÊ©üËÉΩ„ÅåÂà∂Èôê„Åï„Çå„ÇãÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
                </div>
            `;
            document.body.appendChild(offlineDiv);
            
            // „Ç™„É≥„É©„Ç§„É≥„Å´„Å™„Å£„Åü„ÇâÂâäÈô§
            const removeOfflineMessage = function() {
                offlineDiv.remove();
                window.removeEventListener('online', removeOfflineMessage);
            };
            window.addEventListener('online', removeOfflineMessage);
        });
    </script>

    <!-- PWA Manifest -->
    <script>
        // PWA„Éû„Éã„Éï„Çß„Çπ„Éà„ÇíÂãïÁöÑ„Å´ÁîüÊàê
        const manifest = {
            name: "È≠îÊ≥ï„ÅÆ„Ç≤„Éº„É†„Éù„Éº„Çø„É´",
            short_name: "„Ç≤„Éº„É†„Éù„Éº„Çø„É´",
            description: "Ê•Ω„Åó„ÅÑ„Ç≤„Éº„É†„Åå„ÅÑ„Å£„Å±„ÅÑÔºÅÂ∞èÂ≠¶Áîü„Åã„ÇâÂ§ß‰∫∫„Åæ„ÅßÈÅä„Åπ„Çã„Ç≤„Éº„É†ÈõÜ",
            start_url: "./",
            display: "standalone",
            background_color: "#667eea",
            theme_color: "#667eea",
            orientation: "portrait",
            icons: [
                {
                    src: "https://twemoji.maxcdn.com/v/latest/svg/1f3ae.svg",
                    sizes: "192x192",
                    type: "image/svg+xml"
                },
                {
                    src: "https://twemoji.maxcdn.com/v/latest/svg/1f3ae.svg",
                    sizes: "512x512",
                    type: "image/svg+xml"
                }
            ],
            categories: ["games", "entertainment", "education"],
            lang: "ja"
        };
        
        const manifestBlob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
        const manifestURL = URL.createObjectURL(manifestBlob);
        
        const link = document.createElement('link');
        link.rel = 'manifest';
        link.href = manifestURL;
        document.head.appendChild(link);
    </script>

    <!-- „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Áî®CSSÔºàËøΩÂä†Ôºâ -->
    <style>
        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.3);
            }
            50% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.1);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        @keyframes fadeOut {
            from {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            to {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
        }
        
        /* È´ò„Ç≥„É≥„Éà„É©„Çπ„Éà„É¢„Éº„ÉâÂØæÂøú */
        @media (prefers-contrast: high) {
            .game-button {
                border: 2px solid #000;
            }
            
            .category-btn {
                border: 1px solid rgba(255, 255, 255, 0.8);
            }
        }
        
        /* „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÁÑ°ÂäπÂåñË®≠ÂÆöÂØæÂøú */
        @media (prefers-reduced-motion: reduce) {
            .loading-wizard,
            .wizard-character,
            .title,
            .game-icon {
                animation: none !important;
            }
            
            .game-button:hover {
                transform: none !important;
            }
        }
